<blocks app="Snap! 4.2, http://snap.berkeley.edu" version="1">

  <block-definition s="send command %&apos;c&apos; to board %&apos;a&apos;" type="reporter" category="other"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%n"></input></inputs><script><block s="doIf"><block s="reportOr"><block s="reportNot"><block s="reportGreaterThan"><block var="a"/><l>0</l></block></block><block s="reportNot"><block s="reportLessThan"><block var="a"/><l>255</l></block></block></block><script><block s="doReport"><l></l></block></script></block><block s="doWarp"><script><block s="doDeclareVariables"><list><l>ip-prefix</l><l>ip</l><l>url</l></list></block><block s="doSetVar"><l>ip-prefix</l><l>http://192.168.178.</l></block><block s="doSetVar"><l>ip</l><block s="reportJoinWords"><list><block var="ip-prefix"/><block var="a"/></list></block></block><block s="doSetVar"><l>url</l><block s="reportJoinWords"><list><block var="ip"/><block var="c"/></list></block></block><block s="doReport"><block s="reportURL"><block var="url"/></block></block></script></block></script><scripts><script x="253.00000099999988" y="273.00000100000005"><block s="doRun"><block s="reportJSFunction"><list><l>text</l></list><l>alert(text);</l></block><list><block var="url"/></list></block></script></scripts></block-definition>

  <block-definition s="Sensor: read digital state from pin %&apos;X&apos; on board %&apos;n&apos;" type="reporter" category="wemos"><header></header><code></code><translations></translations><inputs><input type="%txt">D2<options>D2&#xD;D3&#xD;D4&#xD;D5&#xD;D6&#xD;D7&#xD;D8&#xD;D9&#xD;D10&#xD;D11&#xD;D12&#xD;D13</options></input><input type="%n"></input></inputs><script><block s="doDeclareVariables"><list><l>result</l></list></block><block s="doWarp"><script><block s="doSetVar"><l>result</l><block s="evaluate"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><block s="reportJoinWords"><list><l>/digitalRead?pin=</l><block var="X"/></list></block><block var="n"/></custom-block></autolambda><list></list></block><list></list></block></block><block s="bubble"><block var="result"/></block><block s="doIfElse"><block s="reportEquals"><block var="result"/><l>1</l></block><script><block s="doReport"><block s="reportBoolean"><l><bool>true</bool></l></block></block></script><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block></script></block></script></block-definition>

  <block-definition s="Sensor: read analog value from pin %&apos;A0&apos; on board %&apos;n&apos;" type="reporter" category="wemos"><header></header><code></code><translations></translations><inputs><input type="%s">A0<options>A0&#xD;A1&#xD;A2&#xD;A3&#xD;A4&#xD;A5</options></input><input type="%n"></input></inputs><script><block s="doDeclareVariables"><list><l>ret</l></list></block><block s="doWarp"><script><block s="doSetVar"><l>ret</l><block s="evaluate"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><block s="reportJoinWords"><list><l>/analogRead?pin=</l><block var="A0"/></list></block><block var="n"/></custom-block></autolambda><list></list></block><list></list></block></block><block s="doReport"><block var="ret"/></block></script></block></script></block-definition>

  <block-definition s="Actuator: write digital state %&apos;X&apos; to pin %&apos;Y&apos; on board %&apos;A&apos;" type="command" category="wemos"><header></header><code></code><translations></translations><inputs><input type="%b">true</input><input type="%txt">D2<options>D2&#xD;D3&#xD;D4&#xD;D5&#xD;D6&#xD;D7&#xD;D8&#xD;D9&#xD;D10&#xD;D11&#xD;D12&#xD;D13</options></input><input type="%n"></input></inputs><script><block s="doWarp"><script><block s="doIfElse"><block var="X"/><script><block s="doRun"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><block s="reportJoinWords"><list><l>/digitalWrite?pin=</l><block var="Y"/><l>&amp;val=</l><l>1</l></list></block><block var="A"/></custom-block></autolambda><list></list></block><list></list></block></script><script><block s="doRun"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><block s="reportJoinWords"><list><l>/digitalWrite?pin=</l><block var="Y"/><l>&amp;val=</l><l>0</l></list></block><block var="A"/></custom-block></autolambda><list></list></block><list></list></block></script></block></script></block></script></block-definition>

  <block-definition s="Actuator: write analog value %&apos;X&apos; to pin %&apos;Y&apos; on board %&apos;A&apos;" type="command" category="wemos"><header></header><code></code><translations></translations><inputs><input type="%n">128<options>0..255</options></input><input type="%txt">D2<options>D2&#xD;D3&#xD;D4&#xD;D5&#xD;D6&#xD;D7&#xD;D8&#xD;D9&#xD;D10&#xD;D11&#xD;D12&#xD;D13</options></input><input type="%n"></input></inputs><script><block s="doWarp"><script><block s="doRun"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><block s="reportJoinWords"><list><l>/pwmWrite?pin=</l><block var="Y"/><l>&amp;val=</l><block var="X"/></list></block><block var="A"/></custom-block></autolambda><list></list></block><list></list></block></script></block></script></block-definition>

  <block-definition s="Display: %&apos;c&apos; on board %&apos;n&apos;" type="command" category="wemos"><header></header><code></code><translations></translations><inputs><input type="%s">activate<options>activate&#xD;deactivate</options></input><input type="%n"></input></inputs><script><block s="doWarp"><script><block s="doIfElse"><block s="reportEquals"><block var="c"/><l>activate</l></block><script><block s="doRun"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><l>/LCD/init</l><block var="n"/></custom-block></autolambda><list></list></block><list></list></block></script><script><block s="doRun"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><l>/LCD/reset</l><block var="n"/></custom-block></autolambda><list></list></block><list></list></block></script></block></script></block></script></block-definition>

  <block-definition s="Display: clear on board %&apos;n&apos;" type="command" category="wemos"><header></header><code></code><translations></translations><inputs><input type="%n"></input></inputs><script><block s="doWarp"><script><block s="doRun"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><l>/LCD/clear</l><block var="n"/></custom-block></autolambda><list></list></block><list></list></block></script></block></script></block-definition>

  <block-definition s="Display: %&apos;c&apos; blinking on board %&apos;n&apos;" type="command" category="wemos"><header></header><code></code><translations></translations><inputs><input type="%s">start<options>start&#xD;stop</options></input><input type="%n"></input></inputs><script><block s="doWarp"><script><block s="doIfElse"><block s="reportEquals"><block var="c"/><l>start</l></block><script><block s="doRun"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><l>/LCD/blink?state=true</l><block var="n"/></custom-block></autolambda><list></list></block><list></list></block></script><script><block s="doRun"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><l>/LCD/blink?state=false</l><block var="n"/></custom-block></autolambda><list></list></block><list></list></block></script></block></script></block></script></block-definition>

  <block-definition s="Display: set backlight to r= %&apos;R&apos; g= %&apos;G&apos; b= %&apos;B&apos; on board %&apos;n&apos;" type="command" category="wemos"><header></header><code></code><translations></translations><inputs><input type="%n">0<options>0..255</options></input><input type="%n">255<options>0..255</options></input><input type="%n">0<options>0..255</options></input><input type="%n"></input></inputs><script><block s="doWarp"><script><block s="doRun"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><block s="reportJoinWords"><list><l>/LCD/color?red=</l><block var="R"/><l>&amp;green=</l><block var="G"/><l>&amp;blue=</l><block var="B"/></list></block><block var="n"/></custom-block></autolambda><list></list></block><list></list></block></script></block></script></block-definition>

  <block-definition s="Display: set text to %&apos;txt&apos; on board %&apos;n&apos;" type="command" category="wemos"><header></header><code></code><translations></translations><inputs><input type="%txt">Text</input><input type="%n"></input></inputs><script><block s="doWarp"><script><block s="doRun"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><block s="reportJoinWords"><list><l>/LCD/write?text=</l><block var="txt"/></list></block><block var="n"/></custom-block></autolambda><list></list></block><list></list></block></script></block></script></block-definition>

  <block-definition s="Display: %&apos;c&apos; text on board %&apos;n&apos;" type="command" category="wemos"><header></header><code></code><translations></translations><inputs><input type="%s">hide<options>show&#xD;hide</options></input><input type="%n"></input></inputs><script><block s="doWarp"><script><block s="doIfElse"><block s="reportEquals"><block var="c"/><l>show</l></block><script><block s="doRun"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><l>/LCD/show?state=true</l><block var="n"/></custom-block></autolambda><list></list></block><list></list></block></script><script><block s="doRun"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><l>/LCD/show?state=false</l><block var="n"/></custom-block></autolambda><list></list></block><list></list></block></script></block></script></block></script></block-definition>

  <block-definition s="Display: scroll text %&apos;txt&apos; on board %&apos;n&apos;" type="command" category="wemos"><header></header><code></code><translations></translations><inputs><input type="%s">Text (max. length =24)</input><input type="%n"></input></inputs><script><block s="doWarp"><script><block s="doRun"><block s="reifyReporter"><autolambda><custom-block s="send command %txt to board %n"><block s="reportJoinWords"><list><l>/LCD/scroll?text=</l><block var="txt"/></list></block><block var="n"/></custom-block></autolambda><list></list></block><list></list></block></script></block></script></block-definition>

</blocks>
